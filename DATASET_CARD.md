# Dataset Card — Used Car Price Prediction Dataset

## 1. Источник

Kaggle Dataset:  
https://www.kaggle.com/datasets/taeefnajib/used-car-price-prediction-dataset

Используется для обучения модели регрессии: прогнозирование цены подержанных автомобилей.

---

## 2. Структура данных

Файлы:
- `used_cars.csv` — все объекты в одном файле.

Основные поля:

- `brand` — бренд  
- `model` — модель  
- `model_year` — год выпуска  
- `milage` — пробег, строка вида `"51,000 mi."`  
- `fuel_type` — тип топлива  
- `engine` — текстовое описание двигателя  
- `transmission` — коробка передач  
- `ext_col` — цвет кузова  
- `int_col` — цвет салона  
- `accident` — информация о ДТП  
- `clean_title` — юридический статус  
- `price` — цена, строка вида `"$10,300"`

Размер: несколько десятков тысяч записей (каждая строка — один автомобиль).

---

## 3. Лицензия

Kaggle Dataset License — датасет используется в учебных и исследовательских целях в рамках курсовой работы по MLOps.

---

## 4. Разделение данных

Разбиение выполняется скриптом обучения (`src/models/train.py`) с помощью `train_test_split`:

- 80% — train  
- 20% — test  

Параметры разбиения:

- `test_size = 0.2`  
- `random_state = 42`  

Отдельная валидационная выборка не выделяется, качество оценивается по test-части.

---

## 5. Препроцессинг

### Версия v1

- `price` -> `price_num`: удаление символа `$`, запятых, приведение к `float`  
- `milage` -> `milage_num`: удаление `"mi."`, `"mi"`, запятых, приведение к `float`  
- фильтрация выбросов по квантилям:
  - цена и пробег обрезаются по `[0.01, 0.99]`  
- заполнение пропусков в категориальных признаках значением `"Unknown"`  
- удаление строк без таргета и необходимых числовых признаков

### Версия v2

Все шаги v1, плюс:

- извлечение числовых признаков из `engine`:
  - `engine_hp` — число перед `HP`  
  - `engine_liters` — число перед `L` или `Liter`  
- добавление `engine_hp` и `engine_liters` в список числовых признаков модели.

Обе версии фиксируются через отдельные YAML-конфиги (`config_train.yaml`, `config_train_v1_tuned.yaml`, `config_train_v2.yaml`) и логируются в MLflow.